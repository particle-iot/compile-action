name: 'Particle Compile'
description: 'Compiles application source code'
inputs:
  particle-platform-name:
    required: true
    description: 'The platform name to target the compilation. Example: photon, p1, electron, argon, asom, boron'
    default: ''
  particle-access-token:
    required: false
    description: 'Particle access token. If provided, the action will use the Particle Cloud Compiler instead of compiling within the GitHub Action runner'
    default: ''
  device-os-version:
    required: false
    description: 'Target Device OS firmware version. Allowed values: latest, latest-lts, or a semver version number. Example: latest, latest-lts, 4.x, ^5.3.0, 1.4.4'
    default: 'latest-lts'
  sources-folder:
    required: false
    description: 'Path to directory with sources to compile. Example: src'
    default: 'src'
  auto-version:
    required: false
    description: 'If true, the action will automatically increment the product firmware version. See AUTO_VERSION.md for more details.'
    default: 'false'
  auto-version-macro-name:
    required: false
    description: 'Name of the macro that contains the product firmware version.'
    default: 'PRODUCT_VERSION'
outputs:
  artifact-path:
    description: 'Path to the compiled binary file. Example: output/firmware.bin'
  device-os-version:
    description: 'This output contains the actual Device OS version used for compilation. Example: 4.0.2'
  firmware-version:
    description: 'If auto-version is enabled, this output contains the product firmware version integer. Example: 2. The output value is undefined when sources are not a product firmware or auto-version is disabled.'
runs:
  using: 'node16'
  main: 'dist/index.js'
